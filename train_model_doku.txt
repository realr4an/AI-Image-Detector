AI-Detector Trainingsskript â€“ Dokumentation
============================================

ğŸ§  ZIEL:
-------
Training eines CNN-Modells zur binÃ¤ren Klassifikation (z.B. "Echt" vs. "KI-generiert") mit Hilfe von Transfer Learning (ResNet50) unter Verwendung von TensorFlow / Keras.

ğŸ“ DATENSTRUKTUR:
-----------------
Dataset/
â”œâ”€â”€ train/
â”‚   â”œâ”€â”€ Klasse1/
â”‚   â””â”€â”€ Klasse2/
â”œâ”€â”€ validation/
â”‚   â”œâ”€â”€ Klasse1/
â”‚   â””â”€â”€ Klasse2/
â””â”€â”€ test/            (optional, nur fÃ¼r finale Evaluation)

ğŸ“Œ URSPRÃœNGLICHES TRAINING (erste Version):
-------------------------------------------
1. Verwendung von ResNet50 mit vortrainierten ImageNet-Gewichten.
2. Gefrorene ResNet50-Layer (keine Fine-Tuning-Phase).
3. Dense-Klassifikationskopf: Flatten â†’ Dense(128, relu) â†’ Dropout(0.5) â†’ Dense(1, sigmoid).
4. Optimierung mit Adam, Loss: Binary Crossentropy.
5. Verwendung von Mixed Precision Training (float16).
6. Data Augmentation im Training (Rotation, Flip, Zoom, etc.).
7. Callbacks:
   - EarlyStopping
   - ModelCheckpoint
   - ReduceLROnPlateau
8. Speicherung des besten Modells (`best_model.h5`) und finales Modell (`model.h5`).
9. Optional: Test-Set-Auswertung (Loss, Accuracy).

âœ… VERBESSERUNGEN IN DER NEUEN VERSION:
----------------------------------------
1. **Modellstruktur**:
   - `Flatten()` â†’ ersetzt durch `GlobalAveragePooling2D()` fÃ¼r bessere Generalisierung.
   - Dense(128) jetzt mit L2-Regularisierung (`l2(0.001)`).

2. **Fine-Tuning**:
   - Nach initialem Training: letzte 10 Schichten des ResNet50-Modells werden freigegeben und mit kleiner Lernrate (`1e-5`) weitertrainiert.

3. **Trainingsphasen**:
   - Initialtraining: 10 Epochen mit eingefrorenen ResNet-Layern.
   - Fine-Tuning: zusÃ¤tzliche 10 Epochen mit teilweiser Freigabe der Basis.

4. **Monitoring & Visualisierung**:
   - **TensorBoard**-Callback hinzugefÃ¼gt: Logs werden unter `logs/fit/<timestamp>` gespeichert.
   - Histogramme & Metriken werden automatisch protokolliert.

5. **Evaluation**:
   - Nach dem Training wird auf dem Test-Set (sofern vorhanden) nicht nur Accuracy, sondern auch:
     - **Klassifikationsreport** (Precision, Recall, F1)
     - **Konfusionsmatrix** ausgegeben.

6. **CodequalitÃ¤t**:
   - Bessere Trennung der Trainingsphasen.
   - Logging-Ausgaben reduziert (`tf.get_logger().setLevel('ERROR')`).
   - Saubere Modellspeicherung: `best_model_initial.h5`, `best_model_finetuned.h5`, `model_final.h5`.

ğŸ”§ BENÃ–TIGTE PAKETE:
---------------------
- tensorflow
- scikit-learn (fÃ¼r Klassifikationsreport & Konfusionsmatrix)
- matplotlib (optional fÃ¼r Visualisierung)
- tensorboard

ğŸ“¦ INSTALLATIONSHINWEIS:
-------------------------
Falls scikit-learn fehlt:
    pip install scikit-learn

TensorBoard starten:
    tensorboard --logdir logs/fit

ğŸŒŸ FAZIT:
---------
Die Ã¼berarbeitete Version bietet:
- bessere Generalisierung
- gezielteres Training durch Fine-Tuning
- transparente Ãœberwachung durch TensorBoard
- bessere Analyse durch zusÃ¤tzliche Auswertungen
